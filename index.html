<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>welcome</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="John Doe">
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="welcome">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="welcome">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="welcome">
  
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">welcome</a></h1>
    <p><a href="/"></a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/reading">Reading</a></li>
      
        <li><a href="/about">About</a></li>
      
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content">




  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2017/09/18/four/">
  <time datetime="2017-09-18T13:08:25.000Z">
    2017-09-18
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2017/09/18/four/">ES6核心内容</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p><a href="https://segmentfault.com/a/1190000004365693" target="_blank" rel="external">https://segmentfault.com/a/1190000004365693</a></p>
<p>ECMAScript 6（以下简称ES6）是JavaScript语言的下一代标准。因为当前版本的ES6是在2015年发布的，所以又称ECMAScript 2015。</p>
<p>也就是说，ES6就是ES2015。</p>
<p>虽然目前并不是所有浏览器都能兼容ES6全部特性，但越来越多的程序员在实际项目当中已经开始使用ES6了。所以就算你现在不打算使用ES6，但为了看懂别人的你也该懂点ES6的语法了…</p>
<p>在我们正式讲解ES6语法之前，我们得先了解下Babel。<br>Babel</p>
<p>Babel是一个广泛使用的ES6转码器，可以将ES6代码转为ES5代码，从而在现有环境执行。大家可以选择自己习惯的工具来使用使用Babel，具体过程可直接在Babel官网查看：<br>最常用的ES6特性</p>
<p>let, const, class, extends, super, arrow functions, template string, destructuring, default, rest arguments<br>这些是ES6最常用的几个语法，基本上学会它们，我们就可以走遍天下都不怕啦！我会用最通俗易懂的语言和例子来讲解它们，保证一看就懂，一学就会。<br>let, const</p>
<p>这两个的用途与var类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。<br>首先来看下面这个例子：</p>
<p>var name = ‘zach’</p>
<p>while (true) {<br>    var name = ‘obama’<br>    console.log(name)  //obama<br>    break<br>}</p>
<p>console.log(name)  //obama</p>
<p>使用var 两次输出都是obama，这是因为ES5只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。第一种场景就是你现在看到的内层变量覆盖外层变量。而let则实际上为JavaScript新增了块级作用域。用它所声明的变量，只在let命令所在的代码块内有效。</p>
<p>let name = ‘zach’</p>
<p>while (true) {<br>    let name = ‘obama’<br>    console.log(name)  //obama<br>    break<br>}</p>
<p>console.log(name)  //zach</p>
<p>另外一个var带来的不合理场景就是用来计数的循环变量泄露为全局变量，看下面的例子：</p>
<p>var a = [];<br>for (var i = 0; i &lt; 10; i++) {<br>  a[i] = function () {<br>    console.log(i);<br>  };<br>}<br>a<a href="">6</a>; // 10</p>
<p>上面代码中，变量i是var声明的，在全局范围内都有效。所以每一次循环，新的i值都会覆盖旧值，导致最后输出的是最后一轮的i的值。而使用let则不会出现这个问题。</p>
<p>var a = [];<br>for (let i = 0; i &lt; 10; i++) {<br>  a[i] = function () {<br>    console.log(i);<br>  };<br>}<br>a<a href="">6</a>; // 6</p>
<p>再来看一个更常见的例子，了解下如果不用ES6，而用闭包如何解决这个问题。</p>
<p>var clickBoxs = document.querySelectorAll(‘.clickBox’)<br>for (var i = 0; i &lt; clickBoxs.length; i++){<br>    clickBoxs[i].onclick = function(){<br>        console.log(i)<br>    }<br>}</p>
<p>我们本来希望的是点击不同的clickBox，显示不同的i，但事实是无论我们点击哪个clickBox，输出的都是5。下面我们来看下，如何用闭包搞定它。</p>
<p>function iteratorFactory(i){<br>    var onclick = function(e){<br>        console.log(i)<br>    }<br>    return onclick;<br>}<br>var clickBoxs = document.querySelectorAll(‘.clickBox’)<br>for (var i = 0; i &lt; clickBoxs.length; i++){<br>    clickBoxs[i].onclick = iteratorFactory(i)<br>}</p>
<p>const也用来声明变量，但是声明的是常量。一旦声明，常量的值就不能改变。</p>
<p>const PI = Math.PI</p>
<p>PI = 23 //Module build failed: SyntaxError: /es6/app.js: “PI” is read-only</p>
<p>当我们尝试去改变用const声明的常量时，浏览器就会报错。<br>const有一个很好的应用场景，就是当我们引用第三方库的时声明的变量，用const来声明可以避免未来不小心重命名而导致出现bug：</p>
<p>const monent = require(‘moment’)</p>
<p>class, extends, super</p>
<p>这三个特性涉及了ES5中最令人头疼的的几个部分：原型、构造函数，继承…你还在为它们复杂难懂的语法而烦恼吗？你还在为指针到底指向哪里而纠结万分吗？</p>
<p>有了ES6我们不再烦恼！</p>
<p>ES6提供了更接近传统语言的写法，引入了Class（类）这个概念。新的class写法让对象原型的写法更加清晰、更像面向对象编程的语法，也更加通俗易懂。</p>
<p>class Animal {<br>    constructor(){<br>        this.type = ‘animal’<br>    }<br>    says(say){<br>        console.log(this.type + ‘ says ‘ + say)<br>    }<br>}</p>
<p>let animal = new Animal()<br>animal.says(‘hello’) //animal says hello</p>
<p>class Cat extends Animal {<br>    constructor(){<br>        super()<br>        this.type = ‘cat’<br>    }<br>}</p>
<p>let cat = new Cat()<br>cat.says(‘hello’) //cat says hello</p>
<p>上面代码首先用class定义了一个“类”，可以看到里面有一个constructor方法，这就是构造方法，而this关键字则代表实例对象。简单地说，constructor内定义的方法和属性是实例对象自己的，而constructor外定义的方法和属性则是所有实例对象可以共享的。</p>
<p>Class之间可以通过extends关键字实现继承，这比ES5的通过修改原型链实现继承，要清晰和方便很多。上面定义了一个Cat类，该类通过extends关键字，继承了Animal类的所有属性和方法。</p>
<p>super关键字，它指代父类的实例（即父类的this对象）。子类必须在constructor方法中调用super方法，否则新建实例时会报错。这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。</p>
<p>ES6的继承机制，实质是先创造父类的实例对象this（所以必须先调用super方法），然后再用子类的构造函数修改this。</p>
<p>P.S 如果你写react的话，就会发现以上三个东西在最新版React中出现得很多。创建的每个component都是一个继承React.Component的类。详见react文档<br>arrow function</p>
<p>这个恐怕是ES6最最常用的一个新特性了，用它来写function比原来的写法要简洁清晰很多:</p>
<p>function(i){ return i + 1; } //ES5<br>(i) =&gt; i + 1 //ES6</p>
<p>简直是简单的不像话对吧…<br>如果方程比较复杂，则需要用{}把代码包起来：</p>
<p>function(x, y) {<br>    x++;<br>    y–;<br>    return x + y;<br>}<br>(x, y) =&gt; {x++; y–; return x+y}</p>
<p>除了看上去更简洁以外，arrow function还有一项超级无敌的功能！<br>长期以来，JavaScript语言的this对象一直是一个令人头痛的问题，在对象方法中使用this，必须非常小心。例如：</p>
<p>class Animal {<br>    constructor(){<br>        this.type = ‘animal’<br>    }<br>    says(say){<br>        setTimeout(function(){<br>            console.log(this.type + ‘ says ‘ + say)<br>        }, 1000)<br>    }<br>}</p>
<p> var animal = new Animal()<br> animal.says(‘hi’)  //undefined says hi</p>
<p>运行上面的代码会报错，这是因为setTimeout中的this指向的是全局对象。所以为了让它能够正确的运行，传统的解决方法有两种：</p>
<pre><code>第一种是将this传给self,再用self来指代this

   says(say){
       var self = this;
       setTimeout(function(){
           console.log(self.type + &apos; says &apos; + say)
       }, 1000)

2.第二种方法是用bind(this),即

   says(say){
       setTimeout(function(){
           console.log(this.type + &apos; says &apos; + say)
       }.bind(this), 1000)

但现在我们有了箭头函数，就不需要这么麻烦了：
</code></pre><p>class Animal {<br>    constructor(){<br>        this.type = ‘animal’<br>    }<br>    says(say){<br>        setTimeout( () =&gt; {<br>            console.log(this.type + ‘ says ‘ + say)<br>        }, 1000)<br>    }<br>}<br> var animal = new Animal()<br> animal.says(‘hi’)  //animal says hi</p>
<p>当我们使用箭头函数时，函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。<br>并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，它的this是继承外面的，因此内部的this就是外层代码块的this。<br>template string</p>
<p>这个东西也是非常有用，当我们要插入大段的html内容到文档中时，传统的写法非常麻烦，所以之前我们通常会引用一些模板工具库，比如mustache等等。</p>
<p>大家可以先看下面一段代码：</p>
<p>$(“#result”).append(<br>  “There are <b>“ + basket.count + “</b> “ +<br>  “items in your basket, “ +<br>  “<em>“ + basket.onSale +<br>  “</em> are on sale!”<br>);</p>
<p>我们要用一堆的’+’号来连接文本与变量，而使用ES6的新特性模板字符串``后，我们可以直接这么来写：</p>
<p>$(“#result”).append(<code>There are &lt;b&gt;${basket.count}&lt;/b&gt; items
   in your basket, &lt;em&gt;${basket.onSale}&lt;/em&gt;
  are on sale!</code>);</p>
<p>用反引号（\）来标识起始，用${}`来引用变量，而且所有的空格和缩进都会被保留在输出之中，是不是非常爽？！</p>
<p>React Router从第1.0.3版开始也使用ES6语法了，比如这个例子：</p>
<link to="{`/taco/${taco.name}`}">{taco.name}

<p>React Router<br>destructuring</p>
<p>ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。</p>
<p>看下面的例子：</p>
<p>let cat = ‘ken’<br>let dog = ‘lili’<br>let zoo = {cat: cat, dog: dog}<br>console.log(zoo)  //Object {cat: “ken”, dog: “lili”}</p>
<p>用ES6完全可以像下面这么写：</p>
<p>let cat = ‘ken’<br>let dog = ‘lili’<br>let zoo = {cat, dog}<br>console.log(zoo)  //Object {cat: “ken”, dog: “lili”}</p>
<p>反过来可以这么写：</p>
<p>let dog = {type: ‘animal’, many: 2}<br>let { type, many} = dog<br>console.log(type, many)   //animal 2</p>
<p>default, rest</p>
<p>default很简单，意思就是默认值。大家可以看下面的例子，调用animal()方法时忘了传参数，传统的做法就是加上这一句type = type || ‘cat’ 来指定默认值。</p>
<p>function animal(type){<br>    type = type || ‘cat’<br>    console.log(type)<br>}<br>animal()</p>
<p>如果用ES6我们而已直接这么写：</p>
<p>function animal(type = ‘cat’){<br>    console.log(type)<br>}<br>animal()</p>
<p>最后一个rest语法也很简单，直接看例子：</p>
<p>function animals(…types){<br>    console.log(types)<br>}<br>animals(‘cat’, ‘dog’, ‘fish’) //[“cat”, “dog”, “fish”]</p>
<p>而如果不用ES6的话，我们则得使用ES5的arguments。<br>总结</p>
<p>以上就是ES6最常用的一些语法，可以说这20%的语法，在ES6的日常使用中占了80%…</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2017/09/18/three/">
  <time datetime="2017-09-18T13:08:11.000Z">
    2017-09-18
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2017/09/18/three/">SVG 与canvas的区别</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p><a href="http://blog.csdn.net/helloword_chen/article/details/49788309" target="_blank" rel="external">http://blog.csdn.net/helloword_chen/article/details/49788309</a><br>讨论关于canvas和svg的区别。首先canvas是html5提供的新元素<canvas>，而svg存在的历史要比canvas久远，已经有十几年了。svg并不是html5专有的标签，最初svg是用xml技术（超文本扩展语言，可以自定义标签或属性）描述二维图形的语言。在H5中看似canvas与svg很像，但是，他们有巨大的差别。</canvas></p>
<p>  首先，从它们的功能上来讲，canvas可以看做是一个画布。，其绘制出来的图形为标量图，因此，可以在canvas中引入jpg或png这类格式的图片，在实际开发中，大型的网络游戏都是用canvas画布做出来的，并且canvas的技术现在已经相当的成熟。另外，我们喜欢用canvas来做一些统计用的图表，如柱状图曲线图或饼状图等。而svg，所绘制的图形为矢量图，所以其用法上受到了限制。因为只能绘制矢量图，所以svg中不能引入普通的图片，因为矢量图的不会失真的效果，在项目中我们会用来做一些动态的小图标。但是由于其本质为矢量图，可以被无限放大而不会失真，这很适合被用来做地图，而百度地图就是用svg技术做出来的。</p>
<p>  另外从技术发面来讲canvas里面绘制的图形不能被引擎抓取，如我们要让canvas里面的一个图片跟随鼠标事件：canvas.onmouseover=function(){}。而svg里面的图形可以被引擎抓取，支持事件的绑定。另外canvas中我们绘制图形通常是通过javascript来实现，svg更多的是通过标签来来实现，如在svg中绘制正矩形形就要用<rect></rect>，这里我们不能用属性style=”width:XXX;height:XXX;”来定义。我再来介绍一个svg的js库：TWO.JS。其中包含two.js和three.js前者用于绘制二维图形，后者用于绘制三维图形。TWO.JS可以支持三种格式，svg（默认）、canvas、和WEBGL。当然也可以在普通div中引入。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2017/09/17/two/">
  <time datetime="2017-09-17T06:15:03.000Z">
    2017-09-17
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2017/09/17/two/">JavaScript中的“use strict”</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p><a href="http://www.ruanyifeng.com/blog/2013/01/javascript_strict_mode.html" target="_blank" rel="external">http://www.ruanyifeng.com/blog/2013/01/javascript_strict_mode.html</a></p>
<p>一、概述</p>
<p>除了正常运行模式，ECMAscript 5添加了第二种运行模式：”严格模式”（strict mode）。顾名思义，这种模式使得Javascript在更严格的条件下运行。</p>
<p>设立”严格模式”的目的，主要有以下几个：</p>
<pre><code>　　- 消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为;

　　- 消除代码运行的一些不安全之处，保证代码运行的安全；

　　- 提高编译器效率，增加运行速度；

　　- 为未来新版本的Javascript做好铺垫。
</code></pre><p>“严格模式”体现了Javascript更合理、更安全、更严谨的发展方向，包括IE 10在内的主流浏览器，都已经支持它，许多大项目已经开始全面拥抱它。</p>
<p>另一方面，同样的代码，在”严格模式”中，可能会有不一样的运行结果；一些在”正常模式”下可以运行的语句，在”严格模式”下将不能运行。掌握这些内容，有助于更细致深入地理解Javascript，让你变成一个更好的程序员。</p>
<p>本文将对”严格模式”做详细介绍。</p>
<p>二、进入标志</p>
<p>进入”严格模式”的标志，是下面这行语句：</p>
<pre><code>　　&quot;use strict&quot;;
</code></pre><p>老版本的浏览器会把它当作一行普通字符串，加以忽略。</p>
<p>三、如何调用</p>
<p>“严格模式”有两种调用方法，适用于不同的场合。</p>
<p>3.1 针对整个脚本文件</p>
<p>将”use strict”放在脚本文件的第一行，则整个脚本都将以”严格模式”运行。如果这行语句不在第一行，则无效，整个脚本以”正常模式”运行。如果不同模式的代码文件合并成一个文件，这一点需要特别注意。</p>
<p>(严格地说，只要前面不是产生实际运行结果的语句，”use strict”可以不在第一行，比如直接跟在一个空的分号后面。)</p>
<pre><code>　　&lt;script&gt;
　　　　&quot;use strict&quot;;
　　　　console.log(&quot;这是严格模式。&quot;);
　　&lt;/script&gt;

　　&lt;script&gt;
　　　　console.log(&quot;这是正常模式。&quot;);kly, it&apos;s almost 2 years ago now. I can admit it now - I run it on my school&apos;s network that has about 50 computers.
　　&lt;/script&gt;
</code></pre><p>上面的代码表示，一个网页中依次有两段Javascript代码。前一个script标签是严格模式，后一个不是。</p>
<p>3.2 针对单个函数</p>
<p>将”use strict”放在函数体的第一行，则整个函数以”严格模式”运行。</p>
<pre><code>　　function strict(){
　　　　&quot;use strict&quot;;
　　　　return &quot;这是严格模式。&quot;;
　　}

　　function notStrict() {
　　　　return &quot;这是正常模式。&quot;;
　　}
</code></pre><p>3.3 脚本文件的变通写法</p>
<p>因为第一种调用方法不利于文件合并，所以更好的做法是，借用第二种方法，将整个脚本文件放在一个立即执行的匿名函数之中。</p>
<pre><code>　　(function (){

　　　　&quot;use strict&quot;;

　　　　// some code here

　　 })();
</code></pre><p>四、语法和行为改变</p>
<p>严格模式对Javascript的语法和行为，都做了一些改变。</p>
<p>4.1 全局变量显式声明</p>
<p>在正常模式中，如果一个变量没有声明就赋值，默认是全局变量。严格模式禁止这种用法，全局变量必须显式声明。</p>
<pre><code>&quot;use strict&quot;;

　　v = 1; // 报错，v未声明

　　for(i = 0; i &lt; 2; i++) { // 报错，i未声明
　　}
</code></pre><p>因此，严格模式下，变量都必须先用var命令声明，然后再使用。</p>
<p>4.2 静态绑定</p>
<p>Javascript语言的一个特点，就是允许”动态绑定”，即某些属性和方法到底属于哪一个对象，不是在编译时确定的，而是在运行时（runtime）确定的。</p>
<p>严格模式对动态绑定做了一些限制。某些情况下，只允许静态绑定。也就是说，属性和方法到底归属哪个对象，在编译阶段就确定。这样做有利于编译效率的提高，也使得代码更容易阅读，更少出现意外。</p>
<p>具体来说，涉及以下几个方面。</p>
<p>（1）禁止使用with语句</p>
<p>因为with语句无法在编译时就确定，属性到底归属哪个对象。</p>
<pre><code>　　&quot;use strict&quot;;

　　var v = 1;

　　with (o){ // 语法错误
　　　　v = 2;
　　}
</code></pre><p>（2）创设eval作用域</p>
<p>正常模式下，Javascript语言有两种变量作用域（scope）：全局作用域和函数作用域。严格模式创设了第三种作用域：eval作用域。</p>
<p>正常模式下，eval语句的作用域，取决于它处于全局作用域，还是处于函数作用域。严格模式下，eval语句本身就是一个作用域，不再能够生成全局变量了，它所生成的变量只能用于eval内部。</p>
<pre><code>　　&quot;use strict&quot;;

　　var x = 2;

　　console.info(eval(&quot;var x = 5; x&quot;)); // 5

　　console.info(x); // 2
</code></pre><p>4.3 增强的安全措施</p>
<p>（1）禁止this关键字指向全局对象</p>
<pre><code>　　function f(){
　　　　return !this;
　　}
　　// 返回false，因为&quot;this&quot;指向全局对象，&quot;!this&quot;就是false

　　function f(){
　　　　&quot;use strict&quot;;
　　　　return !this;
　　}
　　// 返回true，因为严格模式下，this的值为undefined，所以&quot;!this&quot;为true。
</code></pre><p>因此，使用构造函数时，如果忘了加new，this不再指向全局对象，而是报错。</p>
<pre><code>　　function f(){

　　　　&quot;use strict&quot;;

　　　　this.a = 1;

　　};

　　f();// 报错，this未定义
</code></pre><p>（2）禁止在函数内部遍历调用栈</p>
<pre><code>　　function f1(){

　　　　&quot;use strict&quot;;

　　　　f1.caller; // 报错

　　　　f1.arguments; // 报错

　　}

　　f1();
</code></pre><p>4.4 禁止删除变量</p>
<p>严格模式下无法删除变量。只有configurable设置为true的对象属性，才能被删除。</p>
<pre><code>　　&quot;use strict&quot;;

　　var x;

　　delete x; // 语法错误

　　var o = Object.create(null, {&apos;x&apos;: {
　　　　　　value: 1,
　　　　　　configurable: true
　　}});

　　delete o.x; // 删除成功
</code></pre><p>4.5 显式报错</p>
<p>正常模式下，对一个对象的只读属性进行赋值，不会报错，只会默默地失败。严格模式下，将报错。</p>
<pre><code>　　&quot;use strict&quot;;

　　var o = {};

　　Object.defineProperty(o, &quot;v&quot;, { value: 1, writable: false });

　　o.v = 2; // 报错
</code></pre><p>严格模式下，对一个使用getter方法读取的属性进行赋值，会报错。</p>
<pre><code>　　&quot;use strict&quot;;

　　var o = {

　　　　get v() { return 1; }

　　};

　　o.v = 2; // 报错
</code></pre><p>严格模式下，对禁止扩展的对象添加新属性，会报错。</p>
<pre><code>　　&quot;use strict&quot;;

　　var o = {};

　　Object.preventExtensions(o);

　　o.v = 1; // 报错
</code></pre><p>严格模式下，删除一个不可删除的属性，会报错。</p>
<pre><code>　　&quot;use strict&quot;;

　　delete Object.prototype; // 报错
</code></pre><p>4.6 重名错误</p>
<p>严格模式新增了一些语法错误。</p>
<p>（1）对象不能有重名的属性</p>
<p>正常模式下，如果对象有多个重名属性，最后赋值的那个属性会覆盖前面的值。严格模式下，这属于语法错误。</p>
<pre><code>　　&quot;use strict&quot;;

　　var o = {
　　　　p: 1,
　　　　p: 2
　　}; // 语法错误
</code></pre><p>（2）函数不能有重名的参数</p>
<p>正常模式下，如果函数有多个重名的参数，可以用arguments[i]读取。严格模式下，这属于语法错误。</p>
<pre><code>　　&quot;use strict&quot;;

　　function f(a, a, b) { // 语法错误

　　　　return ;

　　}
</code></pre><p>4.7 禁止八进制表示法</p>
<p>正常模式下，整数的第一位如果是0，表示这是八进制数，比如0100等于十进制的64。严格模式禁止这种表示法，整数第一位为0，将报错。</p>
<pre><code>　　&quot;use strict&quot;;

　　var n = 0100; // 语法错误
</code></pre><p>4.8 arguments对象的限制</p>
<p>arguments是函数的参数对象，严格模式对它的使用做了限制。</p>
<p>（1）不允许对arguments赋值</p>
<pre><code>　　&quot;use strict&quot;;

　　arguments++; // 语法错误

　　var obj = { set p(arguments) { } }; // 语法错误

　　try { } catch (arguments) { } // 语法错误

　　function arguments() { } // 语法错误

　　var f = new Function(&quot;arguments&quot;, &quot;&apos;use strict&apos;; return 17;&quot;); // 语法错误
</code></pre><p>（2）arguments不再追踪参数的变化</p>
<pre><code>　　function f(a) {

　　　　a = 2;

　　　　return [a, arguments[0]];

　　}

　　f(1); // 正常模式为[2,2]

　　function f(a) {

　　　　&quot;use strict&quot;;

　　　　a = 2;

　　　　return [a, arguments[0]];

　　}

　　f(1); // 严格模式为[2,1]
</code></pre><p>（3）禁止使用arguments.callee</p>
<p>这意味着，你无法在匿名函数内部调用自身了。</p>
<pre><code>　　&quot;use strict&quot;;

　　var f = function() { return arguments.callee; };

　　f(); // 报错
</code></pre><p>4.9 函数必须声明在顶层</p>
<p>将来Javascript的新版本会引入”块级作用域”。为了与新版本接轨，严格模式只允许在全局作用域或函数作用域的顶层声明函数。也就是说，不允许在非函数的代码块内声明函数。</p>
<pre><code>　　&quot;use strict&quot;;

　　if (true) {

　　　　function f() { } // 语法错误

　　}

　　for (var i = 0; i &lt; 5; i++) {

　　　　function f2() { } // 语法错误

　　}
</code></pre><p>4.10 保留字</p>
<p>为了向将来Javascript的新版本过渡，严格模式新增了一些保留字：implements, interface, let, package, private, protected, public, static, yield。</p>
<p>使用这些词作为变量名将会报错。</p>
<pre><code>　　function package(protected) { // 语法错误

　　　　&quot;use strict&quot;;

　　　　var implements; // 语法错误

　　}
</code></pre>
    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2017/09/15/newOne/">
  <time datetime="2017-09-15T01:28:38.000Z">
    2017-09-15
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2017/09/15/newOne/">负数在计算机中的表示，计算机为什么负数用补码表示?</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p> 问：</p>
<p>负数在计算机中如何表示？</p>
<p>举例来说，+8在计算机中表示为二进制的1000，那么-8怎么表示呢？</p>
<p>很容易想到，可以将一个二进制位（bit）专门规定为符号位，它等于0时就表示正数，等于1时就表示负数。比如，在8位机中，规定每个字节的最高位为符号位。那么，+8就是00001000，而-8则是10001000。</p>
<p>但是，随便找一本《计算机原理》，都会告诉你，实际上，计算机内部采用2的补码（Two’s Complement）表示负数。</p>
<p>什么是2的补码？</p>
<p>它是一种数值的转换方法，要分二步完成：</p>
<p>第一步，每一个二进制位都取相反值，0变成1，1变成0。比如，00001000的相反值就是11110111。</p>
<p>第二步，将上一步得到的值加1。11110111就变成11111000。</p>
<p>所以，00001000的2的补码就是11111000。也就是说，-8在计算机（8位机）中就是用11111000表示。</p>
<p>不知道你怎么看，反正我觉得很奇怪，为什么要采用这么麻烦的方式表示负数，更直觉的方式难道不好吗？</p>
<p>昨天，我在一本书里又看到了这个问题，然后就花了一点时间到网上找资料，现在总算彻底搞明白了。</p>
<p>2的补码的好处</p>
<p>首先，要明确一点。计算机内部用什么方式表示负数，其实是无所谓的。只要能够保持一一对应的关系，就可以用任意方式表示负数。所以，既然可以任意选择，那么理应选择一种最方便的方式。</p>
<p>2的补码就是最方便的方式。它的便利体现在，所有的加法运算可以使用同一种电路完成。</p>
<p>还是以-8作为例子。</p>
<p>假定有两种表示方法。一种是直觉表示法，即10001000；另一种是2的补码表示法，即11111000。请问哪一种表示法在加法运算中更方便？</p>
<p>随便写一个计算式，16 + (-8) = ?</p>
<p>16的二进制表示是 00010000，所以用直觉表示法，加法就要写成：</p>
<p>　０００１００００<br>＋１０００１０００<br>－－－－－－－－－<br>　１００１１０００</p>
<p>可以看到，如果按照正常的加法规则，就会得到10011000的结果，转成十进制就是-24。显然，这是错误的答案。也就是说，在这种情况下，正常的加法规则不适用于正数与负数的加法，因此必须制定两套运算规则，一套用于正数加正数，还有一套用于正数加负数。从电路上说，就是必须为加法运算做两种电路。</p>
<p>现在，再来看2的补码表示法。</p>
<p>　０００１００００<br>＋１１１１１０００<br>－－－－－－－－－<br>１００００１０００</p>
<p>可以看到，按照正常的加法规则，得到的结果是100001000。注意，这是一个9位的二进制数。我们已经假定这是一台8位机，因此最高的第9位是一个溢出位，会被自动舍去。所以，结果就变成了00001000，转成十进制正好是8，也就是16 + (-8) 的正确答案。这说明了，2的补码表示法可以将加法运算规则，扩展到整个整数集，从而用一套电路就可以实现全部整数的加法。</p>
<p>2的补码的本质</p>
<p>在回答2的补码为什么能正确实现加法运算之前，我们先看看它的本质，也就是那两个步骤的转换方法是怎么来的。</p>
<p>要将正数转成对应的负数，其实只要用0减去这个数就可以了。比如，-8其实就是0-8。</p>
<p>已知8的二进制是00001000，-8就可以用下面的式子求出：</p>
<p>　００００００００<br>－００００１０００<br>－－－－－－－－－</p>
<p>因为00000000（被减数）小于0000100（减数），所以不够减。请回忆一下小学算术，如果被减数的某一位小于减数，我们怎么办？很简单，问上一位借1就可以了。</p>
<p>所以，0000000也问上一位借了1，也就是说，被减数其实是100000000，算式也就改写成：</p>
<p>１００００００００<br>－００００１０００<br>－－－－－－－－－<br>　１１１１１０００</p>
<p>进一步观察，可以发现100000000 = 11111111 + 1，所以上面的式子可以拆成两个：</p>
<p>　１１１１１１１１<br>－００００１０００<br>－－－－－－－－－<br>　１１１１０１１１<br>＋０００００００１<br>－－－－－－－－－<br>　１１１１１０００</p>
<p>2的补码的两个转换步骤就是这么来的。</p>
<p>为什么正数加法适用于2的补码？</p>
<p>实际上，我们要证明的是，X-Y或X+(-Y)可以用X加上Y的2的补码完成。</p>
<p>Y的2的补码等于(11111111-Y)+1。所以，X加上Y的2的补码，就等于：</p>
<p>X + (11111111-Y) + 1</p>
<p>我们假定这个算式的结果等于Z，即 Z = X + (11111111-Y) + 1</p>
<p>接下来，分成两种情况讨论。</p>
<p>第一种情况，如果X小于Y，那么Z是一个负数。这时，我们就对Z采用2的补码的逆运算，求出它对应的正数绝对值，再在前面加上负号就行了。所以，</p>
<p>Z = -[11111111-(Z-1)] = -[11111111-(X + (11111111-Y) + 1-1)] = X - Y</p>
<p>第二种情况，如果X大于Y，这意味着Z肯定大于11111111，但是我们规定了这是8位机，最高的第9位是溢出位，必须被舍去，这相当于减去100000000。所以，</p>
<p>Z = Z - 100000000 = X + (11111111-Y) + 1 - 100000000 = X - Y</p>
<p>这就证明了，在正常的加法规则下，可以利用2的补码得到正数与负数相加的正确结果。换言之，计算机只要部署加法电路和补码电路，就可以完成所有整数的加法。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2017/09/14/hello-world/">
  <time datetime="2017-09-14T15:29:14.311Z">
    2017-09-14
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2017/09/14/hello-world/">Hello World</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>I have a dream. 我有一个梦想!!!</p>
<p>正文：</p>
<h3 id="I-have-a-dream"><a href="#I-have-a-dream" class="headerlink" title="I have a dream"></a>I have a dream</h3><p>I am happy to join with you today in what will go down in history as the greatest demonstration for freedom in the history of our nation.<br>　　Five score years ago, a great American, in whose symbolic shadow we stand today, signed the Emancipation Proclamation. This momentous decree came as a great beacon light of hope to millions of Negro slaves who had been seared in the flames of withering injustice. It came as a joyous daybreak to end the long night of their captivity.<br>　　But one hundred years later, the Negro still is not free. One hundred years later, the life of the Negro is still sadly crippled by the manacles of segregation and the chains of discrimination. One hundred years later, the Negro lives on a lonely island of poverty in the midst of a vast ocean of material prosperity. One hundred years later, the Negro is still languished in the corners of American society and finds himself an exile in his own land. And so we’ve come here today to dramatize a shameful condition.<br>　　In a sense we’ve come to our nation’s capital to cash a check. When the architects of our republic wrote the magnificent words of the Constitution and the Declaration of Independence, they were signing a promissory note to which every American was to fall heir. This note was a promise that all men, yes, black men as well as white men, would be guaranteed the “unalienable Rights” of “Life, Liberty and the pursuit of Happiness.” It is obvious today that America has defaulted on this promissory note, insofar as her citizens of color are concerned. Instead of honoring this sacred obligation, America has given the Negro people a bad check, a check which has come back marked “insufficient funds.”<br>　　But we refuse to believe that the bank of justice is bankrupt. We refuse to believe that there are insufficient funds in the great vaults of opportunity of this nation. And so, we’ve come to cash this check, a check that will give us upon demand the riches of freedom and the security of justice.<br>　　We have also come to this hallowed spot to remind America of the fierce urgency of Now. This is no time to engage in the luxury of cooling off or to take the tranquilizing drug of gradualism. Now is the time to make real the promises of democracy. Now is the time to rise from the dark and desolate valley of segregation to the sunlit path of racial justice. Now is the time to lift our nation from the quicksands of racial injustice to the solid rock of brotherhood. Now is the time to make justice a reality for all of God’s children.<br>　　It would be fatal for the nation to overlook the urgency of the moment. This sweltering summer of the Negro’s legitimate discontent will not pass until there is an invigorating autumn of freedom and equality. Nineteen sixty-three is not an end, but a beginning. And those who hope that the Negro needed to blow off steam and will now be content will have a rude awakening if the nation returns to business as usual. And there will be neither rest nor tranquility in America until the Negro is granted his citizenship rights. The whirlwinds of revolt will continue to shake the foundations of our nation until the bright day of justice emerges.<br>　　But there is something that I must say to my people, who stand on the warm threshold which leads into the palace of justice: In the process of gaining our rightful place, we must not be guilty of wrongful deeds. Let us not seek to satisfy our thirst for freedom by drinking from the cup of bitterness and hatred. We must forever conduct our struggle on the high plane of dignity and discipline. We must not allow our creative protest to degenerate into physical violence. Again and again, we must rise to the majestic heights of meeting physical force with soul force.<br>　　The marvelous new militancy which has engulfed the Negro community must not lead us to a distrust of all white people, for many of our white brothers, as evidenced by their presence here today, have come to realize that their destiny is tied up with our destiny. And they have come to realize that their freedom is inextricably bound to our freedom.<br>　　We cannot walk alone.<br>　　And as we walk, we must make the pledge that we shall always march ahead.<br>　　We cannot turn back.<br>　　There are those who are asking the devotees of civil rights, “When will you be satisfied?” We can never be satisfied as long as the Negro is the victim of the unspeakable horrors of police brutality. We can never be satisfied as long as our bodies, heavy with the fatigue of travel, cannot gain lodging in the motels of the highways and the hotels of the cities. We cannot be satisfied as long as the Negro’s basic mobility is from a smaller ghetto to a larger one. We can never be satisfied as long as our children are stripped of their selfhood and robbed of their dignity by signs stating “for whites only.” We cannot be satisfied as long as a Negro in Mississippi cannot vote and a Negro in New York believes he has nothing for which to vote. No, no, we are not satisfied, and we will not be satisfied until “justice rolls down like waters, and righteousness like a mighty stream.”<br>　　I am not unmindful that some of you have come here out of great trials and tribulations. Some of you have come fresh from narrow jail cells. And some of you have come from areas where your quest – quest for freedom left you battered by the storms of persecution and staggered by the winds of police brutality. You have been the veterans of creative suffering. Continue to work with the faith that unearned suffering is redemptive. Go back to Mississippi, go back to Alabama, go back to South Carolina, go back to Georgia, go back to Louisiana, go back to the slums and ghettos of our northern cities, knowing that somehow this situation can and will be changed.<br>　　Let us not wallow in the valley of despair, I say to you today, my friends.<br>　　And so even though we face the difficulties of today and tomorrow, I still have a dream. It is a dream deeply rooted in the American dream.<br>　　I have a dream that one day this nation will rise up and live out the true meaning of its creed: “We hold these truths to be self-evident, that all men are created equal.”<br>　　I have a dream that one day on the red hills of Georgia, the sons of former slaves and the sons of former slave owners will be able to sit down together at the table of brotherhood.<br>　　I have a dream that one day even the state of Mississippi, a state sweltering with the heat of injustice, sweltering with the heat of oppression, will be transformed into an oasis of freedom and justice.<br>　　I have a dream that my four little children will one day live in a nation where they will not be judged by the color of their skin but by the content of their character.<br>　　I have a dream today!<br>　　I have a dream that one day, down in Alabama, with its vicious racists, with its governor having his lips dripping with the words of “interposition” and “nullification” – one day right there in Alabama little black boys and black girls will be able to join hands with little white boys and white girls as sisters and brothers.<br>　　I have a dream today!<br>　　I have a dream that one day every valley shall be exalted, and every hill and mountain shall be made low, the rough places will be made plain, and the crooked places will be made straight; “and the glory of the Lord shall be revealed and all flesh shall see it together.”?<br>　　This is our hope, and this is the faith that I go back to the South with.<br>　　With this faith, we will be able to hew out of the mountain of despair a stone of hope. With this faith, we will be able to transform the jangling discords of our nation into a beautiful symphony of brotherhood. With this faith, we will be able to work together, to pray together, to struggle together, to go to jail together, to stand up for freedom together, knowing that we will be free one day.<br>　　And this will be the day – this will be the day when all of God’s children will be able to sing with new meaning:<br>　　My country ‘tis of thee, sweet land of liberty, of thee I sing.<br>　　Land where my fathers died, land of the Pilgrim’s pride,<br>　　From every mountainside, let freedom ring!<br>　　And if America is to be a great nation, this must become true.<br>　　And so let freedom ring from the prodigious hilltops of New Hampshire.<br>　　Let freedom ring from the mighty mountains of New York.<br>　　Let freedom ring from the heightening Alleghenies of<br>　　Pennsylvania.<br>　　Let freedom ring from the snow-capped Rockies of Colorado.<br>　　Let freedom ring from the curvaceous slopes of California.<br>　　But not only that:<br>　　Let freedom ring from Stone Mountain of Georgia.<br>　　Let freedom ring from Lookout Mountain of Tennessee.<br>　　Let freedom ring from every hill and molehill of Mississippi.<br>　　From every mountainside, let freedom ring.<br>　　And when this happens, when we allow freedom ring, when we let it ring from every village and every hamlet, from every state and every city, we will be able to speed up that day when all of God’s children, black men and white men, Jews and Gentiles, Protestants and Catholics, will be able to join hands and sing in the words of the old Negro spiritual:<br>　　Free at last! Free at last!<br>　　Thank God Almighty, we are free at last!</p>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  

  <nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav>

</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2017 <a href="/">John Doe</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'buru' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>